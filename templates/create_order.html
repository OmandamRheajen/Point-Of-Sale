{% extends "layout.html" %}

{% block title %}Create New Order{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold text-gray-800 mb-6">Create New Order (Manual Sale)</h2>

<div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-xl">

    {% if error %}
    <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4" role="alert">
        <p class="font-bold">Error</p>
        <p>{{ error }}</p>
    </div>
    {% endif %}

    {% if request.method == 'POST' and not error %}
    <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4" role="alert">
        <p class="font-bold">Success</p>
        <p>Order recorded successfully! Redirecting to Dashboard...</p>
    </div>
    {% endif %}

    <form method="POST" action="{{ url_for('create_order') }}" class="space-y-6">

        <div class="border-b pb-4">
            <label for="total" class="block text-xl font-bold text-gray-800 mb-2">Order Total (PHP)</label>
            <input type="number" id="total" name="total" step="0.01" required
                   class="w-full p-4 text-3xl font-extrabold text-blue-700 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100"
                   placeholder="0.00">
        </div>

        <div>
            <label for="payment_method" class="block text-sm font-medium text-gray-700 mb-1">Payment Method</label>
            <select id="payment_method" name="payment_method" required
                    class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option value="">-- Select Payment Method --</option>
                <option value="Cash">Cash</option>
                <option value="Card">Card</option>
            </select>
        </div>

        <div>
            <label for="customer_name" class="block text-sm font-medium text-gray-700 mb-1">Customer Name (Optional)</label>
            <input type="text" id="customer_name" name="customer_name"
                   class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                   placeholder="Leave blank for Walk-in Customer">
        </div>

        <button type="submit"
                class="w-full bg-green-600 text-white font-bold py-3 rounded-lg shadow-md hover:bg-green-700 transition flex items-center justify-center">
            <i data-lucide="printer" class="w-5 h-5 mr-2"></i> Record Order & Print Receipt
        </button>

    </form>
</div>
{% endblock %}